---
title: "Actividad pr谩ctica: An谩lisis de supervivencia con R"
format: pdf
editor: visual
---

##  Fin de aprendizaje

Aplicar herramientas del an谩lisis de supervivencia utilizando R, incluyendo la creaci贸n de objetos de tipo `Surv`, la estimaci贸n de funciones de supervivencia, el an谩lisis de curvas Kaplan-Meier, y la comparaci贸n entre grupos mediante la prueba log-rank.

------------------------------------------------------------------------

## Л Introducci贸n

El an谩lisis de supervivencia es una t茅cnica estad铆stica utilizada para modelar el tiempo hasta que ocurre un evento de inter茅s.\
En esta actividad trabajar谩s con datos reales incluidos en el paquete `survival` de R para:

-   Identificar la estructura de datos de supervivencia.
-   Estimar curvas de supervivencia.
-   Aplicar pruebas de hip贸tesis para comparar grupos.

------------------------------------------------------------------------

##  Tipo de actividad

**Individual.**

------------------------------------------------------------------------

##  Producto esperado

-   Un script en R (`.R`) o un documento R Markdown (`.Rmd`) con el c贸digo, resultados y comentarios.
-   Un archivo PDF generado desde R Markdown o desde el script con resultados y visualizaciones.

------------------------------------------------------------------------

##  Instrucciones

1.  **Carga el conjunto de datos `lung`** incluido en el paquete `survival`.

    ```{r}
    library(survival)
    data(lung)
    head(lung)
    ```

2.  **Explora las siguientes variables clave:**

    -   `time`: tiempo hasta el evento (en d铆as)
    -   `status`: 1 = censurado, 2 = evento (muerte)
    -   `sex`: 1 = hombre, 2 = mujer
    -   `ph.ecog`: estado funcional del paciente

3.  **Preprocesa la variable `status`** para que siga la convenci贸n `1 = evento`, `0 = censura`:

    ```{r}
    lung$status2 <- ifelse(lung$status == 2, 1, 0)
    ```

4.  **Crea el objeto de supervivencia:**

    ```{r}
    surv_obj <- Surv(time = lung$time, event = lung$status2)
    ```

5.  **Estima curvas Kaplan-Meier** para todos los pacientes y por grupo (`sex`):

    ```{r}
    km_all <- survfit(surv_obj ~ 1)
    km_sex <- survfit(surv_obj ~ sex, data = lung)
    ```

6.  **Grafica las curvas** utilizando base R o `survminer`:

    ```{r}
    plot(km_all, xlab = "D铆as", ylab = "Supervivencia")
    plot(km_sex, col = c("blue", "red"), xlab = "D铆as", ylab = "Supervivencia")
    legend("bottomleft", legend = c("Hombres", "Mujeres"), col = c("blue", "red"), lty = 1)
    ```

7.  **Aplica la prueba log-rank** para comparar si hay diferencias de supervivencia entre hombres y mujeres:

    ```{r}
    survdiff(Surv(time, status2) ~ sex, data = lung)
    ```

8.  **Documenta tus hallazgos** en el documento:

    -   Descripci贸n del conjunto de datos
    -   Interpretaci贸n de las curvas
    -   Resultados del log-rank test
    -   Conclusiones personales

------------------------------------------------------------------------

##  Entrega del trabajo

Sube dos archivos a la plataforma:

-   `Tarea_Supervivencia_Nombre_Apellido.Rmd` o `.R`
-   `Tarea_Supervivencia_Nombre_Apellido.pdf`

------------------------------------------------------------------------

##  Criterios de evaluaci贸n (25 pts)

| Criterio                                                | Puntos |
|---------------------------------------------------------|--------|
| Carga y estructura de datos, creaci贸n del objeto `Surv` | 4 pts  |
| Estimaci贸n y visualizaci贸n de curvas de supervivencia   | 5 pts  |
| Comparaci贸n entre grupos (log-rank test)                | 5 pts  |
| Interpretaci贸n y documentaci贸n de resultados            | 4 pts  |
| Claridad, orden y presentaci贸n del documento            | 2 pts  |
